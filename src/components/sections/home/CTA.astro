---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon';

// Components
import Carousel from '@components/HomeCTACarousel.astro';

---

<section id="cta" class="pb-7">
	<article class="section-card">
		<div class="grid grid-cols-1 xl:grid-cols-12 xl:pr-12">
			<div class="px-6 py-8 sm:px-9 sm:py-12 xl:col-span-7 xl:px-12">
				<h3 class="mb-6 max-w-xl text-2xl font-light tracking-[-0.015em] text-white sm:text-3xl">
					Transparent, audited, <br /><span class="text-red-400">& open source</span>
				</h3>
				<p class="max-w-2xl text-base text-white/70 sm:text-lg">
					Fingerprint provides a complete view of your users across web and mobile. The visitor identification API identifies up to 99.5% of returning visitors, while Smart Signals
					provide actionable real-time intelligence about visitor intent.
				</p>

				<a href="/works" class="mt-12 inline-flex items-center rounded-xl bg-white/10 px-5 py-3 text-sm font-semibold text-white hover:text-white/80">
					Let's build something
					<Icon name="mdi:chat" class="ml-3 w-4" />
				</a>

				<div class="mt-24 grid max-w-2xl grid-cols-1 gap-4 text-white sm:grid-cols-2 lg:mt-32">
					<a class="rounded-md border border-white/10 px-6 py-5 duration-200 hover:border-white/20 hover:bg-white/10">
						<div class="mb-4 flex items-center justify-between text-xl leading-none tracking-tight text-white">
							Read.CV
							<div><Icon name="mdi:arrow-top-right" class="w-5" /></div>
						</div>
						<p class="text-sm text-white/60">VC investment in apps we've helped our startup partners design.</p>
					</a>
					<a class="rounded-md border border-white/10 px-6 py-5 duration-200 hover:border-white/20 hover:bg-white/10">
						<div class="mb-4 flex items-center justify-between text-xl leading-none tracking-tight text-white">
							LinkedIn
							<div><Icon name="mdi:arrow-top-right" class="w-5" /></div>
						</div>
						<p class="text-sm text-white/60">VC investment in apps we've helped our startup partners design.</p>
					</a>
				</div>
			</div>

			<div class="relative h-full xl:col-span-5">
				<Carousel />
			</div>
		</div>
	</article>
</section>

<script>
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';
	gsap.registerPlugin(ScrollTrigger);

	ScrollTrigger.create({
		trigger: '#cta',
		start: 'top center',
		end: 'bottom center',
		onEnter: () => {
			document.querySelector('#cta .section-card').classList.add('is-active');
		},
		onLeave: () => {
			document.querySelector('#cta .section-card').classList.remove('is-active');
		},
		onEnterBack: () => {
			document.querySelector('#cta .section-card').classList.add('is-active');
		},
		onLeaveBack: () => {
			document.querySelector('#cta .section-card').classList.remove('is-active');
		},
	});
</script>
